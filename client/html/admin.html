<template name="admin">
    {{> header}}
    <div class="row">
        <div class="span10">
            <h2>Admin</h2>
        </div>
        <div class="span2">
            {{loginButtons float="right"}}
        </div>
    </div>
    <div class="row">
        {{#if currentUserIsAdmin}}
            <div class="span12">
                <p>Welcome {{currentUser.username}}, write some stuff.</p>
                <hr />
            </div>
            <div class="span6">
                <form id="adminForm">
                    <div class="row-fluid">
                        <div id="titleBlock" class="span6">
                            <label for="title">
                                <h3>Title *</h3>
                            </label>
                            <input type="text" id="title" placeholder="Title"/>
                        </div>
                        <div id="slugBlock" class="span6">
                            <label for="slug">
                                <h3>Slug *</h3>
                            </label>
                            <input type="text" id="slug" placeholder="A slug (e.g post-1)"/>
                        </div>
                    </div>
                    <div id="teaserBlock">
                        <label for="teaser">
                            <h3>Teaser <small>(If none, first paragraph of body taken)</small></h3>
                        </label>
                        <textarea type="text" id="teaser" placeholder="Teaser"></textarea>
                    </div>
                    <div id="tagsBlock">
                        <label for="tags">
                            <h3>Tags</h3>
                        </label>
                        <input id="tags" class="input-xlarge" type="select" value="music,edm">
                    </div>
                    <div id="imageBlock">
                        <h3>Image</h3>
                        <button id="uploadImage" class="btn">Upload</button>
                        {{#if uploadedPictures}}
                            <div class="buttonsMargin alert alert-success">
                                <button type="button" class="close" data-dismiss="alert">&times;</button>
                                The picture has been uploaded succesfully
                            </div>
                        {{/if}}
                        {{#if couldntUploadPictures}}
                            <div class="buttonsMargin alert alert-error">
                                <button type="button" class="close" data-dismiss="alert">&times;</button>
                                The upload had an error
                            </div>
                        {{/if}}
                        
                    </div>
                    <div id="bodyBlock">
                        <h3>Body* <small>(click <i class="icon-double-angle-down"></i> to edit)</small></h3>
                        <div class="editable" id="blogBody"><p>First paragraph for overview, Click me to edit.</p></div>
                    </div>
                    <button class="btn btn-primary buttonsMargin" type="submit">Post it</button>
                </form>
                {{#if succesfullyCreated}}
                    <div class="buttonsMargin alert alert-success">
                        <button type="button" class="close" data-dismiss="alert">&times;</button>
                        The post has been created succesfully!
                    </div>
                {{/if}}
                <hr />
                <p>* is required</p>
            </div>
        {{else}}
            <div class="span12">
                <p>Please sign in as an <b>admin</b> to add new entries.</p>
            </div>
        {{/if}}
    </div>
</template>